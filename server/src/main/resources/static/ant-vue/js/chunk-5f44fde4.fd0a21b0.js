(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5f44fde4"],{"1da1":function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));r("d3b7");function a(e,t,r,a,n,i,s){try{var o=e[i](s),u=o.value}catch(l){return void r(l)}o.done?t(u):Promise.resolve(u).then(a,n)}function n(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){a(s,n,i,o,u,"next",e)}function u(e){a(s,n,i,o,u,"throw",e)}o(void 0)}))}}},"4b61":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("a-spin",{attrs:{spinning:e.spinning}},[r("page-header-wrapper",{attrs:{title:!1,content:"本工具提供了两种数据库表导入方式，连接数据库和导入SQL创建表脚本"}},[r("a-card",{attrs:{"body-style":{padding:"24px 32px"},bordered:!1}},[r("a-tabs",{attrs:{"default-active-key":"1",type:"card"}},[r("a-tab-pane",{key:"1",attrs:{tab:"连接数据库"}},[r("a-form",{attrs:{form:e.connectDatabaseForm,"label-col":{span:5},"wrapper-col":{span:12}},on:{submit:e.handleConnectDatabaseSubmit}},[r("a-form-item",{attrs:{label:"数据库类型"}},[r("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["dbType",{initialValue:"MySQL",rules:[{required:!0,message:"请选择数据库类型！"}]}],expression:"[\n                    'dbType',\n                    {\n                      initialValue: 'MySQL',\n                      rules: [\n                        { required: true, message: '请选择数据库类型！' }\n                      ]\n                    }\n                  ]"}],attrs:{"button-style":"solid"},on:{change:e.onChangeDbType}},e._l(e.dbTypes,(function(t,a){return r("a-radio-button",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"item.isShow"}],key:a,attrs:{value:t.type}},[e._v(" "+e._s(t.type)+" ")])})),1)],1),r("a-form-item",{attrs:{label:"服务器地址"}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["server",{initialValue:e.dbServer,rules:[{required:!0,message:"请输入服务器地址！"}]}],expression:"[\n                    'server',\n                    {\n                      initialValue: dbServer,\n                      rules: [\n                        { required: true, message: '请输入服务器地址！' }\n                      ]\n                    }\n                  ]"}],attrs:{placeholder:"请输入服务器地址！"}})],1),r("a-form-item",{attrs:{label:"端口号"}},[r("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["port",{initialValue:e.dbPort,rules:[{required:!0,message:"请输入端口号！"}]}],expression:"[\n                    'port',\n                    {\n                      initialValue: dbPort,\n                      rules: [{ required: true, message: '请输入端口号！' }]\n                    }\n                  ]"}],attrs:{placeholder:"请输入端口号！",min:1,max:65535}})],1),r("a-form-item",{attrs:{label:"数据库名"}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["database",{initialValue:e.dbName,rules:[{required:!0,message:"请输入数据库名！"}]}],expression:"[\n                    'database',\n                    {\n                      initialValue: dbName,\n                      rules: [{ required: true, message: '请输入数据库名！' }]\n                    }\n                  ]"}],attrs:{placeholder:"请输入需要连接的数据库名！"}})],1),r("a-form-item",{attrs:{label:"登录名"}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["username",{initialValue:e.dbUser,rules:[{required:!0,message:"请输入登录名！"}]}],expression:"[\n                    'username',\n                    {\n                      initialValue: dbUser,\n                      rules: [{ required: true, message: '请输入登录名！' }]\n                    }\n                  ]"}],attrs:{placeholder:"请输入数据库登录名！"}})],1),r("a-form-item",{attrs:{label:"登录密码"}},[r("a-input-password",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{initialValue:e.dbPass,rules:[{required:!0,message:"请输入登录密码！"}]}],expression:"[\n                    'password',\n                    {\n                      initialValue: dbPass,\n                      rules: [{ required: true, message: '请输入登录密码！' }]\n                    }\n                  ]"}],attrs:{placeholder:"请输入数据库登录密码！"}})],1),r("a-form-item",{attrs:{"wrapper-col":{span:12,offset:5}}},[r("a-button",{attrs:{type:"primary","html-type":"submit"}},[e._v(" 提交 ")]),r("a-button",{style:{marginLeft:"8px"},on:{click:e.handleConnectDatabaseReset}},[e._v(" 重置 ")])],1)],1)],1),r("a-tab-pane",{key:"2",attrs:{tab:"导入SQL脚本","force-render":""}},[r("a-form",{attrs:{form:e.importSqlForm,"label-col":{span:2},"wrapper-col":{span:15}},on:{submit:e.handleImportSqlSubmit}},[r("a-form-item",{attrs:{label:"数据库类型"}},[r("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["dbType",{initialValue:"MySQL",rules:[{required:!0,message:"请选择数据库类型！"}]}],expression:"[\n                    'dbType',\n                    {\n                      initialValue: 'MySQL',\n                      rules: [\n                        { required: true, message: '请选择数据库类型！' }\n                      ]\n                    }\n                  ]"}],attrs:{"button-style":"solid"}},e._l(e.dbTypes,(function(t,a){return r("a-radio-button",{key:a,attrs:{value:t.type}},[e._v(" "+e._s(t.type)+" ")])})),1)],1),r("a-form-item",{attrs:{label:"SQL脚本"}},[r("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["ddl",{rules:[{required:!0,message:"请输入SQL脚本！"}]}],expression:"[\n                    'ddl',\n                    {\n                      rules: [{ required: true, message: '请输入SQL脚本！' }]\n                    }\n                  ]"}],attrs:{rows:40,placeholder:"请输入SQL CREATE脚本，可以直接多表，建议使用Navicat工具生成的DDL脚本"}})],1),r("a-form-item",{attrs:{"wrapper-col":{span:12,offset:5}}},[r("a-button",{attrs:{type:"primary","html-type":"submit"}},[e._v(" 提交 ")]),r("a-button",{style:{marginLeft:"8px"},on:{click:e.handleImportSqlReset}},[e._v(" 重置 ")])],1)],1)],1)],1)],1)],1)],1)],1)},n=[],i=(r("4160"),r("159b"),r("5530")),s=(r("96cf"),r("1da1")),o=r("b775"),u={connectDatabase:function(e){return Object(o["c"])("/generator/connectDatabase",e)},importSql:function(e){return Object(o["c"])("/generator/importSql",e)}},l={name:"ConnectPage",data:function(){return{connectDatabaseForm:this.$form.createForm(this,{name:"connect-database-form"}),importSqlForm:this.$form.createForm(this,{name:"import-sql-form"}),spinning:!1,dbType:"MySQL",dbServer:"127.0.0.1",dbPort:3306,dbName:"mysql",dbUser:"root",dbPass:"root",dbTypes:[{type:"MySQL",port:3306,isShow:!0},{type:"SQLServer",port:1433,isShow:!0},{type:"Oracle",port:1521,isShow:!0},{type:"SQLite",port:"",isShow:!1},{type:"H2",port:"",isShow:!1}]}},components:{},mounted:function(){this.$nextTick((function(){var e=!1;e&&(this.dbServer="192.168.1.204",this.dbPort=3309,this.dbName="wechat_oa",this.dbUser="test_user",this.dbPass="test_user")}))},methods:{onChangeDbType:function(e){var t=this;this.dbTypes.forEach((function(r){r.type===e.target.value&&(t.dbPort=r.port)}))},handleConnectDatabaseSubmit:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:a=t,t.spinning=!0,e.preventDefault(),t.connectDatabaseForm.validateFields((function(e,r){if(!e)try{u.connectDatabase(Object(i["a"])({},r)),t.spinning=!1,setTimeout((function(){a.$router.push({path:"/code/index"})}),800)}catch(n){t.$notification.error({message:"错误",description:"数据连接失败："+n,duration:3})}finally{t.spinning=!1}})),t.spinning=!1;case 5:case"end":return r.stop()}}),r)})))()},handleConnectDatabaseReset:function(){this.connectDatabaseForm.resetFields()},handleImportSqlSubmit:function(e){var t=this,r=this;this.spinning=!0,e.preventDefault(),this.importSqlForm.validateFields((function(e,a){if(!e)try{u.importSql(Object(i["a"])({},a)),t.spinning=!1,r.$router.push({path:"/code/index"})}catch(n){t.$notification.error({message:"错误",description:"SQL导入失败："+n,duration:3})}finally{t.spinning=!1}})),this.spinning=!1},handleImportSqlReset:function(){this.importSqlForm.resetFields()}}},d=l,c=(r("b35b"),r("2877")),p=Object(c["a"])(d,a,n,!1,null,"27f32259",null);t["default"]=p.exports},b35b:function(e,t,r){"use strict";var a=r("bf8d"),n=r.n(a);n.a},bf8d:function(e,t,r){}}]);